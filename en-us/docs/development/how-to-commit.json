{
  "filename": "how-to-commit.md",
  "__html": "<h1>如何提交代码</h1>\n<p><font color=\"#dd0000\" size=\"4\">TODO: This page needs to be translated into English. If you are interested, just do it.</font></p>\n<h2>0. 前言</h2>\n<p>Apache TubeMQ使用Github的Pull Request (PR)来接收贡献的代码，本文将详细介绍提交代码的详细流程。</p>\n<ul>\n<li>\n<p>TubeMQ代码库：<a href=\"https://github.com/apache/incubator-tubemq\">https://github.com/apache/incubator-tubemq</a></p>\n</li>\n<li>\n<p>TubeMQ官网库：<a href=\"https://github.com/apache/incubator-tubemq-website\">https://github.com/apache/incubator-tubemq-website</a></p>\n</li>\n</ul>\n<h2>1. Fork仓库</h2>\n<p>进入 <a href=\"https://github.com/apache/incubator-tubemq\">apache/incubator-tubemq</a> 的Github页面 ，点击右上角按钮 <code>Fork</code> 进行 Fork。如下图所示：</p>\n<p><img src=\"../img/development/github_fork_repository.png\" alt=\"\"></p>\n<h2>2. 配置git和提交修改</h2>\n<h3>2.1 将代码克隆到本地</h3>\n<pre><code class=\"language-shell\">git clone https://github.com/&lt;your_github_name&gt;/incubator-tubemq.git\n</code></pre>\n<p>clone完成后，origin会默认指向github上的远程fork地址。</p>\n<h3>2.2 将 apache/incubator-tubemq 添加为本地仓库的远程分支upstream</h3>\n<pre><code class=\"language-shell\">cd  incubator-tubemq\ngit remote add upstream https://github.com/apache/incubator-tubemq.git\n</code></pre>\n<h3>2.3 检查远程仓库设置</h3>\n<pre><code class=\"language-shell\">git remote -v\norigin    https://github.com/&lt;your_github_name&gt;/incubator-tubemq.git (fetch)\norigin    https://github.com/&lt;your_github_name&gt;/incubator-tubemq.git(push)\nupstream  https://github.com/apache/incubator-tubemq.git (fetch)\nupstream  https://github.com/apache/incubator-tubemq.git (push)\n</code></pre>\n<p>此时会有两个仓库：origin(自己的仓库)和upstream（官方的仓库）</p>\n<h3>2.4 获取upstream仓库代码，并更新本地master分支代码为最新</h3>\n<pre><code class=\"language-shell\">git fetch upstream\ngit pull upstream master\n</code></pre>\n<h3>2.5 新建分支</h3>\n<blockquote>\n<p>一般以issue id作为分支名，如：TUBEMQ-123</p>\n</blockquote>\n<pre><code class=\"language-shell\">git checkout -b TUBEMQ-123\n</code></pre>\n<p><strong>确保分支<code>TUBEMQ-123</code>是基于官方master分支的最新代码</strong></p>\n<p>分支创建完成后即可进行代码更改。</p>\n<h3>2.6 提交代码到远程分支</h3>\n<blockquote>\n<p>commit 信息的格式必须与Issue标题保持一致且以<code>[issue id]</code>开头，即：<code>[TUBEMQ-123] xxx</code></p>\n</blockquote>\n<pre><code class=\"language-shell\">git commit -a -m \"[TUBEMQ-123] xxx\"\ngit push origin TUBEMQ-123\n</code></pre>\n<h2>3. 创建PR</h2>\n<h3>3.1 打开自己的github仓库页面</h3>\n<pre><code>`https://github.com/&lt;your_github_name&gt;/incubator-tubemq`\n</code></pre>\n<h3>3.2. 切换分支</h3>\n<pre><code>切换到提交的分支 `TUBEMQ-123`\n</code></pre>\n<h3>3.3. 创建新PR</h3>\n<pre><code>点击 `New pull request`或者`Compare &amp; pull request`\n</code></pre>\n<p><img src=\"../img/development/new_pull_request.png\" alt=\"\"></p>\n<h3>3.4. 点击<code>Create pull request</code>按钮进行创建PR</h3>\n<pre><code>需要注意以下几点：\n  1. PR的标题必须以issue id开头，最好与commit信息保持一致\n  2. 可以填写部分描述信息也可以不填\n  3. 如果点击`Create pull request`后提示代码冲突，则请将`TUBEMQ-123`分支的代码\n     与master分支同步一致后在进行提交\n</code></pre>\n<p><img src=\"../img/development/create_pull_request.png\" alt=\"\"></p>\n<h2>4. Review代码</h2>\n<p>创建完PR后，所有的人都可以Review代码，可能会与您讨论一些实现的细节，可能还需要你进一步修改。\n<strong>一般该PR必须有2位以上的社区PPMC/Committer +1后，才可能正式合入官方代码库。</strong></p>\n<p>最后，恭喜您已经成为了TubeMQ的官方贡献者了！</p>\n",
  "link": "/en-us/docs/development/how-to-commit.html",
  "meta": {}
}